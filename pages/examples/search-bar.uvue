<script setup lang="uts">
import { ref } from 'vue'
import TSearchBar from '@/components/TSearchBar'
import TCard from '@/components/TCard'

/**
 * TSearchBar ç»„ä»¶ç¤ºä¾‹é¡µé¢
 */

const value1 = ref<string>('')
const value2 = ref<string>('')
const value3 = ref<string>('')

const handleSearch = (value: string): void => {
  console.log('æœç´¢:', value)
  uni.showToast({
    title: `æœç´¢: ${value}`,
    icon: 'none'
  })
}

const handleCancel = (): void => {
  console.log('å–æ¶ˆæœç´¢')
  uni.showToast({
    title: 'å·²å–æ¶ˆ',
    icon: 'none'
  })
}
</script>

<template>
  <view class="demo-page">
    <!-- åŸºç¡€ç”¨æ³• -->
    <TCard title="åŸºç¡€ç”¨æ³•" padding="none">
      <TSearchBar v-model="value1" @search="handleSearch" />
    </TCard>

    <!-- åœ†è§’æ ·å¼ -->
    <TCard title="åœ†è§’æ ·å¼" padding="none">
      <TSearchBar
        v-model="value2"
        shape="round"
        placeholder="åœ†è§’æœç´¢æ¡†"
        @search="handleSearch"
      />
    </TCard>

    <!-- æ˜¾ç¤ºå–æ¶ˆæŒ‰é’® -->
    <TCard title="æ˜¾ç¤ºå–æ¶ˆæŒ‰é’®" padding="none">
      <TSearchBar
        v-model="value3"
        :show-cancel="true"
        cancel-text="å–æ¶ˆ"
        @search="handleSearch"
        @cancel="handleCancel"
      />
    </TCard>

    <!-- è‡ªå®šä¹‰èƒŒæ™¯è‰² -->
    <TCard title="è‡ªå®šä¹‰èƒŒæ™¯è‰²" padding="none">
      <TSearchBar
        v-model="value1"
        background="#e6f7ff"
        placeholder="æµ…è“è‰²èƒŒæ™¯"
      />
    </TCard>

    <!-- ç¦ç”¨çŠ¶æ€ -->
    <TCard title="ç¦ç”¨çŠ¶æ€" padding="none">
      <TSearchBar
        v-model="value1"
        :disabled="true"
        placeholder="ç¦ç”¨çŠ¶æ€"
      />
    </TCard>

    <!-- è‡ªå®šä¹‰å›¾æ ‡ -->
    <TCard title="è‡ªå®šä¹‰å›¾æ ‡" padding="none">
      <TSearchBar
        v-model="value1"
        left-icon="ğŸ”"
        placeholder="è‡ªå®šä¹‰æœç´¢å›¾æ ‡"
      />
    </TCard>

    <!-- é™åˆ¶é•¿åº¦ -->
    <TCard title="é™åˆ¶é•¿åº¦" padding="none">
      <TSearchBar
        v-model="value1"
        :maxlength="20"
        placeholder="æœ€å¤šè¾“å…¥20ä¸ªå­—ç¬¦"
      />
    </TCard>
  </view>
</template>

<style lang="scss" scoped>
.demo-page {
  min-height: 100vh;
  background-color: #f5f5f5;
  padding: 20px;
}
</style>
