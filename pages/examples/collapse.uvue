<script setup lang="uts">
import { ref } from 'vue'
import TCollapse from '@/components/TCollapse'
import TCollapseItem from '@/components/TCollapseItem'
import { useI18n } from '@/composables/useI18n.uts'

/**
 * TCollapse ÊäòÂè†Èù¢ÊùøÁ§∫‰æãÈ°µÈù¢
 */

const { $t } = useI18n()

// Âü∫Á°ÄÁî®Ê≥ï - Â§öÈÄâÊ®°Âºè
const activeNames = ref<string[]>(['1'])

// ÊâãÈ£éÁê¥Ê®°Âºè
const accordionActive = ref<string>('1')

// Á¶ÅÁî®Áä∂ÊÄÅ
const disabledActive = ref<string[]>([])

// Ëá™ÂÆö‰πâÊ†áÈ¢ò
const customActive = ref<string[]>(['1'])
</script>

<template>
  <view class="page">
    <view class="page-header">
      <text class="page-title">{{ $t('examplePages.collapse.title') }}</text>
      <text class="page-desc">{{ $t('examplePages.collapse.description') }}</text>
    </view>

    <view class="page-content">
      <!-- Âü∫Á°ÄÁî®Ê≥ï -->
      <view class="section">
        <view class="section-title">
          <text class="section-title-text">{{ $t('examplePages.collapse.sections.basic') }}</text>
        </view>
        <view class="section-content">
          <TCollapse v-model="activeNames">
            <TCollapseItem name="1" :title="$t('examplePages.collapse.titles.consistency')">
              <text class="item-content">
                {{ $t('examplePages.collapse.content.consistency') }}
              </text>
            </TCollapseItem>
            <TCollapseItem name="2" :title="$t('examplePages.collapse.titles.feedback')">
              <text class="item-content">
                {{ $t('examplePages.collapse.content.feedback') }}
              </text>
            </TCollapseItem>
            <TCollapseItem name="3" :title="$t('examplePages.collapse.titles.efficiency')">
              <text class="item-content">
                {{ $t('examplePages.collapse.content.efficiency') }}
              </text>
            </TCollapseItem>
          </TCollapse>
        </view>
      </view>

      <!-- ÊâãÈ£éÁê¥Ê®°Âºè -->
      <view class="section">
        <view class="section-title">
          <text class="section-title-text">{{ $t('examplePages.collapse.sections.accordion') }}</text>
        </view>
        <view class="section-content">
          <TCollapse v-model="accordionActive" :accordion="true">
            <TCollapseItem name="1" :title="$t('examplePages.collapse.titles.designPrinciples')">
              <text class="item-content">
                {{ $t('examplePages.collapse.content.designPrinciples') }}
              </text>
            </TCollapseItem>
            <TCollapseItem name="2" :title="$t('examplePages.collapse.titles.navigation')">
              <text class="item-content">
                {{ $t('examplePages.collapse.content.navigation') }}
              </text>
            </TCollapseItem>
            <TCollapseItem name="3" :title="$t('examplePages.collapse.titles.feedbackTitle')">
              <text class="item-content">
                {{ $t('examplePages.collapse.content.feedbackContent') }}
              </text>
            </TCollapseItem>
          </TCollapse>
        </view>
      </view>

      <!-- Á¶ÅÁî®Áä∂ÊÄÅ -->
      <view class="section">
        <view class="section-title">
          <text class="section-title-text">{{ $t('examplePages.collapse.sections.disabled') }}</text>
        </view>
        <view class="section-content">
          <TCollapse v-model="disabledActive">
            <TCollapseItem name="1" :title="$t('examplePages.collapse.titles.normalItem')">
              <text class="item-content">
                {{ $t('examplePages.collapse.content.normalItem') }}
              </text>
            </TCollapseItem>
            <TCollapseItem name="2" :title="$t('examplePages.collapse.titles.disabledItem')" :disabled="true">
              <text class="item-content">
                {{ $t('examplePages.collapse.content.disabledItem') }}
              </text>
            </TCollapseItem>
            <TCollapseItem name="3" :title="$t('examplePages.collapse.titles.normalItem')">
              <text class="item-content">
                {{ $t('examplePages.collapse.content.normalItem') }}
              </text>
            </TCollapseItem>
          </TCollapse>
        </view>
      </view>

      <!-- Ëá™ÂÆö‰πâÊ†áÈ¢ò -->
      <view class="section">
        <view class="section-title">
          <text class="section-title-text">{{ $t('examplePages.collapse.sections.customTitle') }}</text>
        </view>
        <view class="section-content">
          <TCollapse v-model="customActive">
            <TCollapseItem name="1">
              <template #title>
                <view class="custom-title">
                  <text class="custom-title-icon">üì±</text>
                  <text class="custom-title-text">{{ $t('examplePages.collapse.titles.mobileComponents') }}</text>
                </view>
              </template>
              <text class="item-content">
                {{ $t('examplePages.collapse.content.mobileComponents') }}
              </text>
            </TCollapseItem>
            <TCollapseItem name="2">
              <template #title>
                <view class="custom-title">
                  <text class="custom-title-icon">üé®</text>
                  <text class="custom-title-text">{{ $t('examplePages.collapse.titles.richComponents') }}</text>
                </view>
              </template>
              <text class="item-content">
                {{ $t('examplePages.collapse.content.richComponents') }}
              </text>
            </TCollapseItem>
            <TCollapseItem name="3">
              <template #title>
                <view class="custom-title">
                  <text class="custom-title-icon">‚ö°</text>
                  <text class="custom-title-text">{{ $t('examplePages.collapse.titles.highPerformance') }}</text>
                </view>
              </template>
              <text class="item-content">
                {{ $t('examplePages.collapse.content.highPerformance') }}
              </text>
            </TCollapseItem>
          </TCollapse>
        </view>
      </view>

      <!-- Êó†ËæπÊ°Ü -->
      <view class="section">
        <view class="section-title">
          <text class="section-title-text">{{ $t('examplePages.collapse.sections.noBorder') }}</text>
        </view>
        <view class="section-content">
          <TCollapse v-model="activeNames" :border="false">
            <TCollapseItem name="1" :title="$t('examplePages.collapse.titles.item1')">
              <text class="item-content">
                {{ $t('examplePages.collapse.content.item1Content') }}
              </text>
            </TCollapseItem>
            <TCollapseItem name="2" :title="$t('examplePages.collapse.titles.item2')">
              <text class="item-content">
                {{ $t('examplePages.collapse.content.item2Content') }}
              </text>
            </TCollapseItem>
          </TCollapse>
        </view>
      </view>

      <!-- Êï∞ÊçÆÁä∂ÊÄÅ -->
      <view class="section">
        <view class="section-title">
          <text class="section-title-text">{{ $t('examplePages.collapse.sections.currentState') }}</text>
        </view>
        <view class="section-content">
          <view class="state-box">
            <text class="state-label">{{ $t('examplePages.collapse.labels.expandedItems') }}Ôºö</text>
            <text class="state-value">{{ activeNames.join(', ') || $t('examplePages.collapse.labels.none') }}</text>
          </view>
          <view class="state-box">
            <text class="state-label">{{ $t('examplePages.collapse.labels.accordionExpanded') }}Ôºö</text>
            <text class="state-value">{{ accordionActive || $t('examplePages.collapse.labels.none') }}</text>
          </view>
        </view>
      </view>
    </view>
  </view>
</template>

<style lang="scss" scoped>
.page {
  min-height: 100vh;
  background-color: #f5f5f5;
  padding-bottom: 40px;

  &-header {
    background-color: #ffffff;
    padding: 20px;
    margin-bottom: 12px;
  }

  &-title {
    font-size: 20px;
    font-weight: bold;
    color: #303133;
    display: block;
    margin-bottom: 8px;
  }

  &-desc {
    font-size: 14px;
    color: #909399;
    display: block;
  }

  &-content {
    padding: 0;
  }
}

.section {
  margin-bottom: 12px;

  &-title {
    padding: 12px 20px;
    background-color: transparent;

    &-text {
      font-size: 14px;
      color: #909399;
    }
  }

  &-content {
    background-color: #ffffff;
  }
}

.item-content {
  display: block;
  font-size: 14px;
  color: #606266;
  line-height: 1.6;
}

.custom-title {
  display: flex;
  flex-direction: row;
  align-items: center;

  &-icon {
    font-size: 18px;
    margin-right: 8px;
  }

  &-text {
    font-size: 15px;
    font-weight: 500;
    color: #303133;
  }
}

.state-box {
  padding: 12px 20px;
  border-bottom: 1px solid #ebeef5;

  &:last-child {
    border-bottom: none;
  }
}

.state-label {
  font-size: 14px;
  color: #606266;
  margin-right: 8px;
}

.state-value {
  font-size: 14px;
  color: #409eff;
  font-weight: 500;
}
</style>
