/**
 * JSON 结构验证演示
 * 展示 validateMessages 方法的工作原理
 */

import { registerLocale, registerLocaleWithMode, replaceLocale } from './index.uts'
import type { ModularLocaleMessages } from './types.uts'

console.log('=== JSON 结构验证演示 ===\n')

// 示例 1: 有效的语言包
console.log('1. 注册有效的语言包')
const validMessages: ModularLocaleMessages = {
  common: {
    confirm: '确定',
    cancel: '取消'
  }
}
registerLocale('demo-valid', validMessages)
console.log('✓ 成功\n')

// 示例 2: 无效的语言包（null）
console.log('2. 尝试注册 null')
registerLocale('demo-null', null as any)
console.log('✗ 应该被拒绝\n')

// 示例 3: 无效的模块
console.log('3. 尝试注册无效模块')
const invalidModule: any = {
  common: 'not an object'
}
registerLocale('demo-invalid-module', invalidModule)
console.log('✗ 应该被拒绝\n')

// 示例 4: 无效的键值
console.log('4. 尝试注册无效键值')
const invalidValue: any = {
  common: {
    confirm: 123
  }
}
registerLocale('demo-invalid-value', invalidValue)
console.log('✗ 应该被拒绝\n')

console.log('=== 演示完成 ===')
